import{be as e,t as o,v as l,z as a,as as n,c7 as t,ae as s,r as u,cj as c,c as r,J as d,I as i,Y as p,o as f,F as y,ck as v,am as m,H as C}from"./index.D_6c1BO-.js";import{U as b}from"./event.CIKxL71l.js";import{a as B}from"./index.BtcHjPUK.js";import{i as g}from"./index.C9igdc6f.js";const x=(...o)=>l=>{o.forEach((o=>{e(o)?o(l):o.value=l}))},D=o({center:Boolean,alignCenter:Boolean,closeIcon:{type:l},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),F={close:()=>!0},S=o({...D,appendToBody:Boolean,appendTo:{type:a([String,Object]),default:"body"},beforeClose:{type:a(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),I={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[b]:e=>n(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},O=(e,o)=>{var l;const a=y().emit,{nextZIndex:n}=t();let x="";const D=s(),F=s(),S=u(!1),I=u(!1),O=u(!1),h=u(null!=(l=e.zIndex)?l:n());let A,j;const k=c("namespace",v),w=r((()=>{const o={},l=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=d(e.width))),o})),z=r((()=>e.alignCenter?{display:"flex"}:{}));function E(){null==j||j(),null==A||A(),e.openDelay&&e.openDelay>0?({stop:A}=m((()=>M()),e.openDelay)):M()}function L(){null==A||A(),null==j||j(),e.closeDelay&&e.closeDelay>0?({stop:j}=m((()=>P()),e.closeDelay)):P()}function N(){e.beforeClose?e.beforeClose((function(e){e||(I.value=!0,S.value=!1)})):L()}function M(){C&&(S.value=!0)}function P(){S.value=!1}return e.lockScroll&&B(S),i((()=>e.modelValue),(l=>{l?(I.value=!1,E(),O.value=!0,h.value=g(e.zIndex)?n():h.value++,p((()=>{a("open"),o.value&&(o.value.scrollTop=0)}))):S.value&&L()})),i((()=>e.fullscreen),(e=>{o.value&&(e?(x=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=x)})),f((()=>{e.modelValue&&(S.value=!0,O.value=!0,E())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(b,!1),e.destroyOnClose&&(O.value=!1)},beforeLeave:function(){a("close")},handleClose:N,onModalClick:function(){e.closeOnClickModal&&N()},close:L,doClose:P,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&N()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:D,bodyId:F,closed:I,style:w,overlayDialogStyle:z,rendered:O,visible:S,zIndex:h}};export{I as a,D as b,x as c,S as d,F as e,O as u};
