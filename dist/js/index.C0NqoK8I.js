import{d as e,r as a,aG as t,o as s,ab as n,e as r,h as l,l as o,w as i,bq as u,g as p,f as d,a1 as c,aP as m,aQ as f,B as g,aA as j,a0 as v,b8 as x,br as h,aZ as _,bs as y,bt as b,aw as z}from"./index.D_6c1BO-.js";import{E as w}from"./el-pagination.iB7W_mBW.js";/* empty css               */import"./el-select.txC_RwMJ.js";import"./el-popper.B126Dx6T.js";/* empty css                        *//* empty css              */import{g as k,p as B,d as I}from"./index.Du8HYfpv.js";import{M}from"./index.2-ALQ3uU.js";import{M as T,W as C}from"./index.CRad9h5U.js";import{E as q}from"./index.sgqfUYPi.js";import"./isEqual._mAmV373.js";import"./_Uint8Array.DVftYLkF.js";import"./index.D3735v7o.js";import"./event.CIKxL71l.js";import"./index.DAlCTFiK.js";import"./strings.BAs9FsGt.js";import"./castArray.Dh6ReS0w.js";import"./index.C9igdc6f.js";import"./v4.aGgpFg1T.js";/* empty css                 */import"./index.BtcHjPUK.js";import"./aria.D6AGjDMk.js";const A=e=>(m("data-v-de39dfe2"),e=e(),f(),e),E={class:"project-index"},O=A((()=>g("br",null,null,-1))),U=A((()=>g("span",{class:"hidden-sm-and-down"},"上传模型",-1))),S=z(e({__name:"index",setup(e){const m=a([]),f=a("-created_at"),g=a(""),z=a({current:1,count:1,size:20,total:20});t();const A=e=>{z.value.current=e,G()},S=e=>{q.prompt("请输入新名称","修改模型名称",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputValue:e.name}).then((({value:a})=>{$(e.id,a),j.success(`新的模型名称: ${a}`)})).catch((()=>{j.info("取消输入")}))},W=e=>{f.value=e,G()},Z=e=>{g.value=e,G()},$=(e,a)=>{B(e,{name:a}).then((()=>{G()})).catch((e=>{}))},D=e=>{q.confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}).then((()=>{F(e.id),j.success("删除成功!")})).catch((()=>{j.info("已取消删除")}))},F=e=>{I(e).then((()=>{G()})).catch((e=>{}))},G=()=>{k(f.value,g.value,z.value.current).then((e=>{var a;z.value={current:parseInt(e.headers["x-pagination-current-page"]),count:parseInt(e.headers["x-pagination-page-count"]),size:parseInt(e.headers["x-pagination-per-page"]),total:parseInt(e.headers["x-pagination-total-count"])},e.data&&(a=e.data,m.value=a)})).catch((e=>{}))};return s((()=>{G()})),(e,a)=>{const t=v,s=n("router-link"),j=x,k=h,B=_,I=y,q=w,$=b,F=u;return r(),l("div",E,[O,o(F,null,{default:i((()=>[o(k,null,{default:i((()=>[o(T,{sorted:f.value,searched:g.value,onSearch:Z,onSort:W},{default:i((()=>[o(j,{inline:!0},{default:i((()=>[o(s,{to:"/resource/voxel/upload"},{default:i((()=>[o(t,{size:"small",type:"primary",icon:"UploadFilled"},{default:i((()=>[U])),_:1})])),_:1})])),_:1})])),_:1},8,["sorted","searched"])])),_:1}),o(I,null,{default:i((()=>[o(B,null,{default:i((()=>[o(p(C),{list:m.value,width:320,gutter:10},{item:i((({item:e})=>[o(M,{item:e,onNamed:S,onDeleted:D},{enter:i((()=>[o(s,{to:`/resource/voxel/view?id=${e.id}`},{default:i((()=>[o(j,{inline:!0},{default:i((()=>[null===e.info||null===e.image?(r(),d(t,{key:0,type:"warning",size:"small"},{default:i((()=>[c(" 初始化体素数据 ")])),_:1})):(r(),d(t,{key:1,type:"primary",size:"small"},{default:i((()=>[c(" 查看体素 ")])),_:1}))])),_:2},1024)])),_:2},1032,["to"])])),_:2},1032,["item"])])),_:1},8,["list"])])),_:1})])),_:1}),o($,null,{default:i((()=>[o(B,{class:"box-card"},{default:i((()=>[o(q,{"current-page":z.value.current,"page-count":z.value.count,"page-size":z.value.size,total:z.value.total,layout:"prev, pager, next, jumper",background:"",onCurrentChange:A},null,8,["current-page","page-count","page-size","total"])])),_:1})])),_:1})])),_:1})])}}}),[["__scopeId","data-v-de39dfe2"]]);export{S as default};
