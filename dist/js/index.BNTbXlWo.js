import{d as a,aG as t,r as e,o as s,ab as n,e as r,h as i,l as o,w as l,B as u,bq as p,g as c,f as d,a1 as m,aA as f,a0 as g,b8 as j,br as x,aZ as y,bs as _,bt as h}from"./index.D_6c1BO-.js";import{E as v}from"./el-pagination.iB7W_mBW.js";/* empty css               */import"./el-select.txC_RwMJ.js";import"./el-popper.B126Dx6T.js";/* empty css                        *//* empty css              */import{f as w,h as b,i as z}from"./index.Du8HYfpv.js";import{M as k}from"./index.2-ALQ3uU.js";import{M as B,W as M}from"./index.CRad9h5U.js";/* empty css                       *//* empty css                 *//* empty css                   */import{E as T}from"./index.sgqfUYPi.js";import"./isEqual._mAmV373.js";import"./_Uint8Array.DVftYLkF.js";import"./index.D3735v7o.js";import"./event.CIKxL71l.js";import"./index.DAlCTFiK.js";import"./strings.BAs9FsGt.js";import"./castArray.Dh6ReS0w.js";import"./index.C9igdc6f.js";import"./v4.aGgpFg1T.js";import"./index.BtcHjPUK.js";import"./aria.D6AGjDMk.js";const C={class:"project-index"},I=u("br",null,null,-1),q=u("span",{class:"hidden-sm-and-down"},"上传模型",-1),A=u("br",null,null,-1),E=a({__name:"index",setup(a){t();const u=e([]),E=e("-created_at"),O=e(""),S=e({current:1,count:1,size:20,total:20}),U=async()=>{try{const a=await w(E.value,O.value,S.value.current),t=a.headers;S.value={current:parseInt(t["x-pagination-current-page"]),count:parseInt(t["x-pagination-page-count"]),size:parseInt(t["x-pagination-per-page"]),total:parseInt(t["x-pagination-total-count"])},a.data&&(u.value=a.data)}catch(a){}},W=a=>{S.value.current=a,U()},Z=async a=>{try{const{value:t}=await T.prompt("请输入新名称","修改模型名称",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputValue:a.name});await D(a.id,t),f.success("新的模型名称: "+t)}catch{f.info("取消输入")}},D=async(a,t)=>{try{await b(a,{name:t}),U()}catch(e){}},F=async a=>{try{await T.confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}),await G(a.id),f.success("删除成功!")}catch{f.info("已取消删除")}},G=async a=>{try{await z(a),U()}catch(t){}},K=a=>{O.value=a,U()},L=a=>{E.value=a,U()};return s((()=>{U()})),(a,t)=>{const e=g,s=n("router-link"),f=j,w=x,b=y,z=_,T=v,U=h,D=p;return r(),i("div",C,[I,o(D,null,{default:l((()=>[o(w,null,{default:l((()=>[o(B,{sorted:c(E),searched:c(O),onSearch:K,onSort:L},{default:l((()=>[o(f,{inline:!0},{default:l((()=>[o(s,{to:"/resource/polygen/upload"},{default:l((()=>[o(e,{size:"small",type:"primary",icon:"uploadFilled"},{default:l((()=>[q])),_:1})])),_:1})])),_:1})])),_:1},8,["sorted","searched"])])),_:1}),o(z,null,{default:l((()=>[o(b,null,{default:l((()=>[o(c(M),{list:c(u),width:320,gutter:10},{item:l((({item:a})=>[o(k,{item:a,onNamed:Z,onDeleted:F},{enter:l((()=>[o(s,{to:`/resource/polygen/view?id=${a.id}`},{default:l((()=>[o(f,{inline:!0},{default:l((()=>[null===a.info||null===a.image?(r(),d(e,{key:0,type:"warning",size:"small"},{default:l((()=>[m(" 初始化模型数据 ")])),_:1})):(r(),d(e,{key:1,type:"primary",size:"small"},{default:l((()=>[m(" 查看模型 ")])),_:1}))])),_:2},1024)])),_:2},1032,["to"])])),_:2},1032,["item"])])),_:1},8,["list"])])),_:1})])),_:1}),o(U,null,{default:l((()=>[o(b,{class:"box-card"},{default:l((()=>[o(T,{"current-page":c(S).current,"page-count":c(S).count,"page-size":c(S).size,total:c(S).total,layout:"prev, pager, next, jumper",background:"",onCurrentChange:W},null,8,["current-page","page-count","page-size","total"])])),_:1})])),_:1})])),_:1}),A])}}});export{E as default};
