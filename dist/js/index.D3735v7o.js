import{H as e,cl as t,by as a,bz as n,cm as o,bB as l,cn as r,co as i,bw as s,cp as u,cq as c,c as p,b$ as d,F as f,s as v,r as m,I as g,a as h,be as b,Y as y,t as x,at as w,L as S,z as C,v as k,an as z,M as E,d as I,bj as $,a6 as F,S as B,W as P,U as j,V as M,b as N,cr as A,cs as V,ct as _,N as O,ap as R,o as L,aa as H,e as T,h as W,p as K,Q as U,i as D,g as q,k as Y,B as Q,f as Z,w as G,C as J,E as X,a2 as ee,l as te,bl as ae,j as ne,bg as oe,D as le,n as re,_ as ie,ar as se,q as ue}from"./index.D_6c1BO-.js";import{U as ce,d as pe}from"./event.CIKxL71l.js";function de(e){return e}var fe=Date.now;var ve,me,ge,he=t?function(e,a){return t(e,"toString",{configurable:!0,enumerable:!1,value:(n=a,function(){return n}),writable:!0});var n}:de,be=(ve=he,me=0,ge=0,function(){var e=fe(),t=16-(e-ge);if(ge=e,t>0){if(++me>=800)return arguments[0]}else me=0;return ve.apply(void 0,arguments)}),ye=Math.max;function xe(e,t,a){return t=ye(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,l=ye(n.length-t,0),r=Array(l);++o<l;)r[o]=n[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=n[o];return i[t]=a(r),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,i)}}var we=9007199254740991;function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=we}function Ce(e){return a(e)&&"[object Arguments]"==n(e)}var ke=Object.prototype,ze=ke.hasOwnProperty,Ee=ke.propertyIsEnumerable,Ie=Ce(function(){return arguments}())?Ce:function(e){return a(e)&&ze.call(e,"callee")&&!Ee.call(e,"callee")};function $e(e,t){for(var a=-1,n=t.length,o=e.length;++a<n;)e[o+a]=t[a];return e}var Fe=o?o.isConcatSpreadable:void 0;function Be(e){return l(e)||Ie(e)||!!(Fe&&e&&e[Fe])}function Pe(e,t,a,n,o){var l=-1,r=e.length;for(a||(a=Be),o||(o=[]);++l<r;){var i=e[l];t>0&&a(i)?t>1?Pe(i,t-1,a,n,o):$e(o,i):o[o.length]=i}return o}function je(e){return(null==e?0:e.length)?Pe(e,1):[]}function Me(e,t){return null!=e&&t in Object(e)}function Ne(e,t){return null!=e&&function(e,t,a){for(var n=-1,o=(t=r(t,e)).length,u=!1;++n<o;){var c=i(t[n]);if(!(u=null!=e&&a(e,c)))break;e=e[c]}return u||++n!=o?u:!!(o=null==e?0:e.length)&&Se(o)&&s(c,o)&&(l(e)||Ie(e))}(e,t,Me)}function Ae(e,t){return function(e,t,a){for(var n=-1,o=t.length,l={};++n<o;){var i=t[n],s=u(e,i);a(s,i)&&c(l,r(i,e),s)}return l}(e,t,(function(t,a){return Ne(e,a)}))}var Ve=function(e){return be(xe(e,void 0,je),e+"")}((function(e,t){return null==e?{}:Ae(e,t)}));const _e=["class","style"],Oe=/^on[A-Z]/,Re=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,n=p((()=>((null==a?void 0:a.value)||[]).concat(_e))),o=f();return p(o?()=>{var e;return d(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!(n.value.includes(e)||t&&Oe.test(e)))))}:()=>({}))};function Le(e,{beforeFocus:t,afterFocus:a,beforeBlur:n,afterBlur:o}={}){const l=f(),{emit:r}=l,i=v(),s=m(!1),u=e=>{!!b(t)&&t(e)||s.value||(s.value=!0,r("focus",e),null==a||a())},c=e=>{var t;!!b(n)&&n(e)||e.relatedTarget&&(null==(t=i.value)?void 0:t.contains(e.relatedTarget))||(s.value=!1,r("blur",e),null==o||o())};return g(i,(e=>{e&&e.setAttribute("tabindex","-1")})),h(i,"focus",u,!0),h(i,"blur",c,!0),h(i,"click",(()=>{var t,a;(null==(t=i.value)?void 0:t.contains(document.activeElement))&&i.value!==document.activeElement||null==(a=e.value)||a.focus()}),!0),{isFocused:s,wrapperRef:i,handleFocus:u,handleBlur:c}}function He({afterComposition:e,emit:t}){const a=m(!1),n=e=>{var n;null==t||t("compositionupdate",e);const o=null==(n=e.target)?void 0:n.value,l=o[o.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},o=n=>{null==t||t("compositionend",n),a.value&&(a.value=!1,y((()=>e(n))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?o(e):n(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:n,handleCompositionEnd:o}}const Te=x({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),We=e=>Ve(Te,e);let Ke;const Ue=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${e&&/firefox/i.test(window.navigator.userAgent)?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,De=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function qe(e,t=1,a){var n;Ke||(Ke=document.createElement("textarea"),document.body.appendChild(Ke));const{paddingSize:o,borderSize:l,boxSizing:r,contextStyle:i}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:De.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:n,borderSize:o,boxSizing:a}}(e);Ke.setAttribute("style",`${i};${Ue}`),Ke.value=e.value||e.placeholder||"";let s=Ke.scrollHeight;const u={};"border-box"===r?s+=l:"content-box"===r&&(s-=o),Ke.value="";const c=Ke.scrollHeight-o;if(w(t)){let e=c*t;"border-box"===r&&(e=e+o+l),s=Math.max(e,s),u.minHeight=`${e}px`}if(w(a)){let e=c*a;"border-box"===r&&(e=e+o+l),s=Math.min(e,s)}return u.height=`${s}px`,null==(n=Ke.parentNode)||n.removeChild(Ke),Ke=void 0,u}const Ye=x({id:{type:String,default:void 0},size:S,disabled:Boolean,modelValue:{type:C([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:C([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:k},prefixIcon:{type:k},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:C([Object,Array,String]),default:()=>z({})},autofocus:Boolean,rows:{type:Number,default:2},...We(["ariaLabel"])}),Qe={[ce]:e=>E(e),input:e=>E(e),change:e=>E(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Ze=I({name:"ElInput",inheritAttrs:!1});const Ge=ue(ie(I({...Ze,props:Ye,emits:Qe,setup(t,{expose:a,emit:n}){const o=t,l=$(),r=F(),i=p((()=>{const e={};return"combobox"===o.containerRole&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e})),s=p((()=>["textarea"===o.type?S.b():w.b(),w.m(b.value),w.is("disabled",x.value),w.is("exceed",ze.value),{[w.b("group")]:r.prepend||r.append,[w.m("prefix")]:r.prefix||o.prefixIcon,[w.m("suffix")]:r.suffix||o.suffixIcon||o.clearable||o.showPassword,[w.bm("suffix","password-clear")]:we.value&&Se.value,[w.b("hidden")]:"hidden"===o.type},l.class])),u=p((()=>[w.e("wrapper"),w.is("focus",fe.value)])),c=Re({excludeKeys:p((()=>Object.keys(i.value)))}),{form:d,formItem:f}=B(),{inputId:h}=P(o,{formItemContext:f}),b=j(),x=M(),w=N("input"),S=N("textarea"),C=v(),k=v(),z=m(!1),E=m(!1),I=m(),ie=v(o.inputStyle),ue=p((()=>C.value||k.value)),{wrapperRef:de,isFocused:fe}=Le(ue,{afterBlur(){var e;o.validateEvent&&(null==(e=null==f?void 0:f.validate)||e.call(f,"blur").catch((e=>pe())))}}),ve=p((()=>{var e;return null!=(e=null==d?void 0:d.statusIcon)&&e})),me=p((()=>(null==f?void 0:f.validateState)||"")),ge=p((()=>me.value&&A[me.value])),he=p((()=>E.value?V:_)),be=p((()=>[l.style])),ye=p((()=>[o.inputStyle,ie.value,{resize:o.resize}])),xe=p((()=>O(o.modelValue)?"":String(o.modelValue))),we=p((()=>o.clearable&&!x.value&&!o.readonly&&!!xe.value&&(fe.value||z.value))),Se=p((()=>o.showPassword&&!x.value&&!o.readonly&&!!xe.value&&(!!xe.value||fe.value))),Ce=p((()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!x.value&&!o.readonly&&!o.showPassword)),ke=p((()=>xe.value.length)),ze=p((()=>!!Ce.value&&ke.value>Number(o.maxlength))),Ee=p((()=>!!r.suffix||!!o.suffixIcon||we.value||o.showPassword||Ce.value||!!me.value&&ve.value)),[Ie,$e]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:n,value:o}=e.value;if(null==a||null==n)return;const l=o.slice(0,Math.max(0,a)),r=o.slice(Math.max(0,n));t={selectionStart:a,selectionEnd:n,value:o,beforeTxt:l,afterTxt:r}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:l}=t;if(null==n||null==o||null==l)return;let r=a.length;if(a.endsWith(o))r=a.length-o.length;else if(a.startsWith(n))r=n.length;else{const e=n[l-1],t=a.indexOf(e,l-1);-1!==t&&(r=t+1)}e.value.setSelectionRange(r,r)}]}(C);R(k,(e=>{if(Be(),!Ce.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;I.value={right:`calc(100% - ${a+15+6}px)`}}));const Fe=()=>{const{type:t,autosize:a}=o;if(e&&"textarea"===t&&k.value)if(a){const e=se(a)?a.minRows:void 0,t=se(a)?a.maxRows:void 0,n=qe(k.value,e,t);ie.value={overflowY:"hidden",...n},y((()=>{k.value.offsetHeight,ie.value=n}))}else ie.value={minHeight:qe(k.value).minHeight}},Be=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=k.value)?void 0:a.offsetParent)||(e(),t=!0)}})(Fe),Pe=()=>{const e=ue.value,t=o.formatter?o.formatter(xe.value):xe.value;e&&e.value!==t&&(e.value=t)},je=async e=>{Ie();let{value:t}=e.target;o.formatter&&(t=o.parser?o.parser(t):t),Ne.value||(t!==xe.value?(n(ce,t),n("input",t),await y(),Pe(),$e()):Pe())},Me=e=>{n("change",e.target.value)},{isComposing:Ne,handleCompositionStart:Ae,handleCompositionUpdate:Ve,handleCompositionEnd:_e}=He({emit:n,afterComposition:je}),Oe=()=>{E.value=!E.value,Te()},Te=async()=>{var e;await y(),null==(e=ue.value)||e.focus()},We=e=>{z.value=!1,n("mouseleave",e)},Ke=e=>{z.value=!0,n("mouseenter",e)},Ue=e=>{n("keydown",e)},De=()=>{n(ce,""),n("change",""),n("clear"),n("input","")};return g((()=>o.modelValue),(()=>{var e;y((()=>Fe())),o.validateEvent&&(null==(e=null==f?void 0:f.validate)||e.call(f,"change").catch((e=>pe())))})),g(xe,(()=>Pe())),g((()=>o.type),(async()=>{await y(),Pe(),Fe()})),L((()=>{!o.formatter&&o.parser,Pe(),y(Fe)})),a({input:C,textarea:k,ref:ue,textareaStyle:ye,autosize:H(o,"autosize"),isComposing:Ne,focus:Te,blur:()=>{var e;return null==(e=ue.value)?void 0:e.blur()},select:()=>{var e;null==(e=ue.value)||e.select()},clear:De,resizeTextarea:Fe}),(e,t)=>(T(),W("div",ee(q(i),{class:[q(s),{[q(w).bm("group","append")]:e.$slots.append,[q(w).bm("group","prepend")]:e.$slots.prepend}],style:q(be),role:e.containerRole,onMouseenter:Ke,onMouseleave:We}),[K(" input "),"textarea"!==e.type?(T(),W(U,{key:0},[K(" prepend slot "),e.$slots.prepend?(T(),W("div",{key:0,class:D(q(w).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):K("v-if",!0),Q("div",{ref_key:"wrapperRef",ref:de,class:D(q(u))},[K(" prefix slot "),e.$slots.prefix||e.prefixIcon?(T(),W("span",{key:0,class:D(q(w).e("prefix"))},[Q("span",{class:D(q(w).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(T(),Z(q(X),{key:0,class:D(q(w).e("icon"))},{default:G((()=>[(T(),Z(J(e.prefixIcon)))])),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0),Q("input",ee({id:q(h),ref_key:"input",ref:C,class:q(w).e("inner")},q(c),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?E.value?"text":"password":e.type,disabled:q(x),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:q(Ae),onCompositionupdate:q(Ve),onCompositionend:q(_e),onInput:je,onChange:Me,onKeydown:Ue}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),K(" suffix slot "),q(Ee)?(T(),W("span",{key:1,class:D(q(w).e("suffix"))},[Q("span",{class:D(q(w).e("suffix-inner"))},[q(we)&&q(Se)&&q(Ce)?K("v-if",!0):(T(),W(U,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(T(),Z(q(X),{key:0,class:D(q(w).e("icon"))},{default:G((()=>[(T(),Z(J(e.suffixIcon)))])),_:1},8,["class"])):K("v-if",!0)],64)),q(we)?(T(),Z(q(X),{key:1,class:D([q(w).e("icon"),q(w).e("clear")]),onMousedown:ne(q(oe),["prevent"]),onClick:De},{default:G((()=>[te(q(ae))])),_:1},8,["class","onMousedown"])):K("v-if",!0),q(Se)?(T(),Z(q(X),{key:2,class:D([q(w).e("icon"),q(w).e("password")]),onClick:Oe},{default:G((()=>[(T(),Z(J(q(he))))])),_:1},8,["class"])):K("v-if",!0),q(Ce)?(T(),W("span",{key:3,class:D(q(w).e("count"))},[Q("span",{class:D(q(w).e("count-inner"))},le(q(ke))+" / "+le(e.maxlength),3)],2)):K("v-if",!0),q(me)&&q(ge)&&q(ve)?(T(),Z(q(X),{key:4,class:D([q(w).e("icon"),q(w).e("validateIcon"),q(w).is("loading","validating"===q(me))])},{default:G((()=>[(T(),Z(J(q(ge))))])),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0)],2),K(" append slot "),e.$slots.append?(T(),W("div",{key:1,class:D(q(w).be("group","append"))},[Y(e.$slots,"append")],2)):K("v-if",!0)],64)):(T(),W(U,{key:1},[K(" textarea "),Q("textarea",ee({id:q(h),ref_key:"textarea",ref:k,class:[q(S).e("inner"),q(w).is("focus",q(fe))]},q(c),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:q(x),readonly:e.readonly,autocomplete:e.autocomplete,style:q(ye),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,onCompositionstart:q(Ae),onCompositionupdate:q(Ve),onCompositionend:q(_e),onInput:je,onChange:Me,onKeydown:Ue}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),q(Ce)?(T(),W("span",{key:0,style:re(I.value),class:D(q(w).e("count"))},le(q(ke))+" / "+le(e.maxlength),7)):K("v-if",!0)],64))],16,["role"]))}}),[["__file","input.vue"]]));export{Ge as E,Le as a,Pe as b,He as c,Ie as d,$e as e,Se as f,Re as g,Ne as h,de as i,xe as o,Ve as p,be as s,We as u};
